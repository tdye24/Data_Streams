var points = [
{//河北涿鹿 
    'long': 115.213108,'lat': 40.387372, 
    'originName': '涿鹿',
    'url': 'https://baike.baidu.com/item/%E6%B6%BF%E9%B9%BF%E5%8E%BF/1993342?fr=aladdin',
    'dynasty': [
    {
        'era': '炎黄',
        'timeInterval': '公元前2697年-约前2599年',
        'monarch': '炎帝/黄帝',
        'title': '神农帝/轩辕帝'
    }]
},
{//山西临汾
    'long': 111.524377, 'lat': 36.094909,
    'originName': '平阳',
    'url': 'https://baike.baidu.com/item/%E5%B9%B3%E9%98%B3%E5%8E%BF/82447?fr=aladdin',
    'dynasty': [
    {
        'era': '尧唐',
        'timeInterval': '约前2357年-约前2262年',
        'monarch': '尧',
        'title': '唐帝'

    }]

},
{//山西永济
    'long': 110.45429, 'lat': 34.873541,
    'originName': '蒲阪',
    'url': 'https://baike.baidu.com/item/%E6%B0%B8%E6%B5%8E/212830?fromtitle=%E6%B0%B8%E6%B5%8E%E5%8E%BF&fromid=32024',
    'dynasty':[
    {
        'era': '舜虞',
        'timeInterval': '约前2262年-约前2029年',
        'monarch': '舜',
        'title': '虞帝'

    }]
},
{//河南洛阳
    'long': 112.492194, 'lat': 34.703835,
    'originName': '斟鄩阳城',
    'url': 'https://baike.baidu.com/item/%E6%B4%9B%E9%98%B3/125712',
    'dynasty':[
    {
        'era': '夏朝',
        'timeInterval': '约前2029年-约前1981年',
        'monarch': '禹',
        'title': '夏王'
    }]
},
{//河南滑县
    'long': 114.524116, 'lat': 35.581748,
    'originName': '鉏',
    'url': 'https://baike.baidu.com/item/%E6%BB%91%E5%8E%BF',
    'dynasty':[
    {
        'era': '有穷',
        'timeInterval': '约前1981年-约前1973年',
        'monarch': '夷羿',
        'title': '有穷王'

    }]
},
{//山东潍坊
    'long': 119.16435, 'lat': 36.71103,
    'originName': '寒水',
    'url': 'https://baike.baidu.com/item/%E6%BD%8D%E5%9D%8A',
    'dynasty':[
    {
        'era': '寒朝',
        'timeInterval': '约前1973年-约前1933年',
        'monarch': '寒浞',
        'title': '寒王'

    }]
},
{//河南安阳
    'long': 114.398066, 'lat': 36.105707,
    'originName': '亳殷',
    'url': 'https://baike.baidu.com/item/%E5%AE%89%E9%98%B3/8202',
    'dynasty':[
    {
        'era': '商（殷）朝',
        'timeInterval': '约前1559年-约前1300年（商）',
        'monarch': '汤',
        'title': '商王'

    }]
},
{//陕西西安
    'long': 108.951639, 'lat': 34.347984,
    'originName': '镐京',
    'url': 'https://baike.baidu.com/item/%E8%A5%BF%E5%AE%89/121614',
    'dynasty':[
    {
        'era': '西周',
        'timeInterval': '约前1046年-前771年',
        'monarch': '姬昌',
        'title': '西周文王'

    }]
},
{//河南洛阳
    'long': 112.450225, 'lat': 34.631155,
    'originName': '洛邑',
    'url': 'https://baike.baidu.com/item/%E6%B4%9B%E9%98%B3/125712',
    'dynasty':[
    {
        'era': '东周',
        'timeInterval': '前770年-前256年',
        'monarch': '姬宜臼',
        'title': '东周平王'

    }]
},
{//陕西咸阳
    'long': 108.713696, 'lat': 34.334284,
    'originName': '咸阳',
    'url': 'https://baike.baidu.com/item/%E5%92%B8%E9%98%B3/183345',
    'dynasty':[
    {
        'era': '秦朝',
        'timeInterval': '前221年-前206年',
        'monarch': '嬴政',
        'title': '秦始皇'

    }]
},
{//江苏徐州
    'long': 117.295173, 'lat': 34.217681,
    'originName': '彭城',
    'url': 'https://baike.baidu.com/item/%E5%BE%90%E5%B7%9E/6250',
    'dynasty':[
    {
        'era': '西楚',
        'timeInterval': '前206年-前202年',
        'monarch': '项羽',
        'title': '西楚霸王'

    }]
},
{//陕西西安
    'long': 108.950489, 'lat': 34.363243,
    'originName': '长安',
    'url': 'https://baike.baidu.com/item/%E8%A5%BF%E5%AE%89/121614',
    'dynasty':[
    {
        'era': '西汉',
        'timeInterval': '前202年-公元8年',
        'monarch': '刘邦',
        'title': '西汉高祖'

    }]
},
{//陕西西安
    'long': 108.926343, 'lat': 34.362289,
    'originName': '长安',
    'url': 'https://baike.baidu.com/item/%E8%A5%BF%E5%AE%89/121614',
    'dynasty':[
    {
        'era': '新朝',
        'timeInterval': '公元8年-公元23年',
        'monarch': '王莽',
        'title': '新太祖'

    }]
},
{//陕西西安
    'long': 108.951064, 'lat': 34.306009,
    'originName': '长安',
    'url': 'https://baike.baidu.com/item/%E8%A5%BF%E5%AE%89/121614',
    'dynasty':[
    {
        'era': '玄汉',
        'timeInterval': '公元23年-公元25年',
        'monarch': '刘玄',
        'title': '玄汉更始帝'

    }]
},
{//河南洛阳
    'long': 112.434703, 'lat': 34.653013,
    'originName': '洛阳',
    'url': 'https://baike.baidu.com/item/%E6%B4%9B%E9%98%B3/125712',
    'dynasty':[
    {
        'era': '东汉',
        'timeInterval': '公元25年-公元220年',
        'monarch': '刘秀',
        'title': '东汉光武帝'

    }]
},
{//河南洛阳
    'long': 112.528989, 'lat': 34.639234,
    'originName': '洛阳',
    'url': 'https://baike.baidu.com/item/%E6%B4%9B%E9%98%B3/125712',
    'dynasty':[
    {
        'era': '曹魏',
        'timeInterval': '220年-265年',
        'monarch': '曹操',
        'title': '魏武帝'

    }]
},
{//四川成都
    'long': 104.08038, 'lat': 30.657066,
    'originName': '成都',
    'url': 'https://baike.baidu.com/item/%E6%88%90%E9%83%BD/128473',
    'dynasty':[
    {
        'era': '蜀汉',
        'timeInterval': '221年-263年',
        'monarch': '刘备',
        'title': '蜀汉昭烈帝'

    }]
},
{//江苏南京
    'long': 118.798398, 'lat': 32.044821,
    'originName': '建业',
    'url': 'https://baike.baidu.com/item/%E5%8D%97%E4%BA%AC/23952',
    'dynasty':[
    {
        'era': '孙吴',
        'timeInterval': '222年-280年',
        'monarch': '孙权',
        'title': '吴大帝'

    }]
},
{//河南洛阳
    'long': 112.406532, 'lat': 34.66299,
    'originName': '洛阳',
    'url': 'https://baike.baidu.com/item/%E6%B4%9B%E9%98%B3/125712',
    'dynasty':[
    {
        'era': '西晋',
        'timeInterval': '265年-316年',
        'monarch': '司马炎',
        'title': '西晋武帝'

    }]
},
{//江苏南京
    'long': 118.751255, 'lat': 32.10112,
    'originName': '建康',
    'url': 'https://baike.baidu.com/item/%E5%8D%97%E4%BA%AC/23952',
    'dynasty':[
    {
        'era': '东晋',
        'timeInterval': '317年-420年',
        'monarch': '司马睿',
        'title': '东晋元帝'

    }]
},
{//江苏南京
    'long': 118.786324, 'lat': 31.998777,
    'originName': '建康',
    'url': 'https://baike.baidu.com/item/%E5%8D%97%E4%BA%AC/23952',
    'dynasty':[
    {
        'era': '刘宋',
        'timeInterval': '420年-479年',
        'monarch': '刘裕',
        'title': '刘宋武帝'

    }]
},
{//江苏南京
    'long': 118.74723, 'lat': 32.06147,
    'originName': '建康',
    'url': 'https://baike.baidu.com/item/%E5%8D%97%E4%BA%AC/23952',
    'dynasty':[
    {
        'era': '南齐',
        'timeInterval': '479年-502年',
        'monarch': '萧道成',
        'title': '南齐高帝'

    }]
},
{//江苏南京
    'long': 118.849565, 'lat': 32.036496,
    'originName': '建康',
    'url': 'https://baike.baidu.com/item/%E5%8D%97%E4%BA%AC/23952',
    'dynasty':[
    {
        'era': '南梁',
        'timeInterval': '502年-557年',
        'monarch': '萧衍',
        'title': '梁武帝'

    }]
},
{//江苏南京
    'long': 118.803572, 'lat': 31.975747,
    'originName': '建康',
    'url': 'https://baike.baidu.com/item/%E5%8D%97%E4%BA%AC/23952',
    'dynasty':[
    {
        'era': '南陈',
        'timeInterval': '557年-589年',
        'monarch': '陈霸先',
        'title': '陈武帝'

    }]
},
{//山西大同
    'long': 113.312185, 'lat': 40.124192,
    'originName': '平城',
    'url': 'https://baike.baidu.com/item/%E5%A4%A7%E5%90%8C/9011',
    'dynasty':[
    {
        'era': '北魏中后期',
        'timeInterval': '420年-557年',
        'monarch': '拓跋珪',
        'title': '北魏道武帝'

    }]
},
{//河南洛阳
    'long': 112.393309, 'lat': 34.631155,
    'originName': '洛阳',
    'url': 'https://baike.baidu.com/item/%E6%B4%9B%E9%98%B3/125712',
    'dynasty':[
    {
        'era': '北魏中后期',
        'timeInterval': '420年-557年',
        'monarch': '元宏',
        'title': '北魏孝文帝'

    }]
},
{//河北邺镇
    'long': 114.628724, 'lat': 36.340533,
    'originName': '邺城',
    'url': 'https://baike.baidu.com/item/%E9%82%BA%E9%95%87',
    'dynasty':[
    {
        'era': '东魏',
        'timeInterval': '534年-550年',
        'monarch': '元善见',
        'title': '东魏孝静帝'

    }]
},
{//陕西西安
    'long': 109.044776, 'lat': 34.276423,
    'originName': '长安',
    'url': 'https://baike.baidu.com/item/%E8%A5%BF%E5%AE%89/121614',
    'dynasty':[
    {
        'era': '西魏',
        'timeInterval': '532年-556年',
        'monarch': '元宝炬',
        'title': '西魏文帝'

    }]
},
{//河北邺镇
    'long': 114.625274, 'lat': 36.308431,
    'originName': '邺城',
    'url': 'https://baike.baidu.com/item/%E9%82%BA%E9%95%87',
    'dynasty':[
    {
        'era': '北齐',
        'timeInterval': '550年-577年',
        'monarch': '高洋',
        'title': '北齐文宣帝'

    }]
},
{//陕西西安
    'long': 108.91082, 'lat': 34.378022,
    'originName': '长安',
    'url': 'https://baike.baidu.com/item/%E8%A5%BF%E5%AE%89/121614',
    'dynasty':[
    {
        'era': '北周',
        'timeInterval': '557年-581年',
        'monarch': '文觉',
        'title': '北周孝闵帝宇'

    }]
},
{//陕西西安
    'long': 108.918869, 'lat': 34.252556,
    'originName': '长安',
    'url': 'https://baike.baidu.com/item/%E8%A5%BF%E5%AE%89/121614',
    'dynasty':[
    {
        'era': '隋朝',
        'timeInterval': '581年-618年',
        'monarch': '杨坚',
        'title': '隋文帝'

    }]
},
{//陕西西安
    'long': 108.719948, 'lat': 34.335585,
    'originName': '长安',
    'url': 'https://baike.baidu.com/item/%E8%A5%BF%E5%AE%89/121614',
    'dynasty':[
    {
        'era': '唐朝',
        'timeInterval': '618年-690年',
        'monarch': '李渊',
        'title': '唐高祖'

    }]
},
{//陕西西安
    'long': 108.74352, 'lat': 34.351799,
    'originName': '长安',
    'url': 'https://baike.baidu.com/item/%E8%A5%BF%E5%AE%89/121614',
    'dynasty':[
    {
        'era': '唐朝',
        'timeInterval': '705年-907年',
        'monarch': '李显',
        'title': '唐中宗'

    }]
},
{//河南洛阳
    'long': 112.45425, 'lat': 34.597882,
    'originName': '神都洛阳',
    'url': 'https://baike.baidu.com/item/%E6%B4%9B%E9%98%B3/125712',
    'dynasty':[
    {
        'era': '武周',
        'timeInterval': '690年-705年',
        'monarch': '武则天',
        'title': '武周武后'

    }]
},
{//河南开封
    'long': 114.307409, 'lat': 34.804308,
    'originName': '汴京',
    'url': 'https://baike.baidu.com/item/开封/122642',
    'dynasty':[
    {
        'era': '后梁',
        'timeInterval': '907年-923年',
        'monarch': '朱温',
        'title': '后梁太祖'

    }]
},
{//河南洛阳
    'long': 112.462011, 'lat': 34.62664,
    'originName': '洛阳',
    'url': 'https://baike.baidu.com/item/洛阳/125712',
    'dynasty':[
    {
        'era': '后唐',
        'timeInterval': '923年-936年',
        'monarch': '李存勖',
        'title': '后唐庄宗'

    }]
},
{//河南开封
    'long': 114.313733, 'lat': 34.804308,
    'originName': '汴京',
    'url': 'https://baike.baidu.com/item/开封/122642',
    'dynasty':[
    {
        'era': '后晋',
        'timeInterval': '936年-947年',
        'monarch': '石敬瑭',
        'title': '后晋高祖'

    }]
},
{//河南开封
    'long': 114.312583, 'lat': 34.804308,
    'originName': '汴京',
    'url': 'https://baike.baidu.com/item/开封/122642',
    'dynasty':[
    {
        'era': '后汉',
        'timeInterval': '947年-950年',
        'monarch': '刘知远',
        'title': '后汉高祖'

    }]
},
{//河南开封
    'long': 114.313733, 'lat': 34.802885,
    'originName': '汴京',
    'url': 'https://baike.baidu.com/item/开封/122642',
    'dynasty':[
    {
        'era': '后周',
        'timeInterval': '951年-960年',
        'monarch': '郭威',
        'title': '后周太祖'

    }]
},
{//内蒙古巴林左旗
    'long': 119.385009, 'lat': 43.975968,
    'originName': '上京',
    'url': 'https://baike.baidu.com/item/巴林左旗',
    'dynasty':[
    {
        'era': '辽朝（契丹）',
        'timeInterval': '916年-1125年',
        'monarch': '耶律阿保机',
        'title': '辽太祖'

    }]
},
{//河南开封
    'long': 114.313733, 'lat': 34.802885,
    'originName': '东京',
    'url': 'https://baike.baidu.com/item/开封/122642',
    'dynasty':[
    {
        'era': '北宋',
        'timeInterval': '960年-1127年',
        'monarch': '赵匡胤',
        'title': '北宋太祖'

    }]
},
{//浙江杭州
    'long': 120.215223, 'lat': 30.253082,
    'originName': '临安',
    'url': 'https://baike.baidu.com/item/杭州/147639',
    'dynasty':[
    {
        'era': '南宋',
        'timeInterval': '1127年-1279年',
        'monarch': '赵构',
        'title': '南宋高宗'

    }]
},
{//宁夏银川
    'long': 106.233609, 'lat': 38.49201,
    'originName': '兴庆',
    'url': 'https://baike.baidu.com/item/银川',
    'dynasty':[
    {
        'era': '西夏',
        'timeInterval': '1038年-1227年',
        'monarch': '李元昊',
        'title': '西夏景宗'

    }]
},
{//北京市
    'long': 116.412326, 'lat': 39.915351,
    'originName': '中京',
    'url': 'https://baike.baidu.com/item/北京/128981',
    'dynasty':[
    {
        'era': '金朝',
        'timeInterval': '1115年-1234年',
        'monarch': '完颜阿骨打',
        'title': '金太祖'

    }]
},
{//北京市
    'long': 116.423326, 'lat': 39.914909,
    'originName': '大都',
    'url': 'https://baike.baidu.com/item/北京/128981',
    'dynasty':[
    {
        'era': '元朝',
        'timeInterval': '1271年-1368年',
        'monarch': '孛儿只斤·忽必烈',
        'title': '元（蒙古）世祖'

    }]
},
{//江苏南京
    'long': 118.804328, 'lat': 32.066204,
    'originName': '应天',
    'url': 'https://baike.baidu.com/item/南京/23952',
    'dynasty':[
    {
        'era': '明朝',
        'timeInterval': '1368年-1644年',
        'monarch': '朱元璋',
        'title': '明太祖'

    }]
},
{//北京市
    'long': 116.403901, 'lat': 39.913909,
    'originName': '京师',
    'url': 'https://baike.baidu.com/item/北京/128981',
    'dynasty':[
    {
        'era': '明朝',
        'timeInterval': '1368年-1644年',
        'monarch': '朱棣',
        'title': '明成祖'

    }]
},
{//辽宁沈阳
    'long': 123.449949, 'lat': 41.719623,
    'originName': '盛京',
    'url': 'https://baike.baidu.com/item/沈阳',
    'dynasty':[
    {
        'era': '后金',
        'timeInterval': '1616年-1636年',
        'monarch': '爱新觉罗·努尔哈赤',
        'title': '后金（清）太祖'

    }]
},
{//北京市
    'long': 116.432176, 'lat': 39.915023,
    'originName': '京师',
    'url': 'https://baike.baidu.com/item/北京/128981',
    'dynasty':[
    {
        'era': '大顺',
        'timeInterval': '1644年-1644年',
        'monarch': '李自成',
        'title': '闯王'

    }]
},
{//辽宁沈阳
    'long': 123.456848, 'lat': 41.719623,
    'originName': '盛京',
    'url': 'https://baike.baidu.com/item/沈阳',
    'dynasty':[
    {
        'era': '清朝',
        'timeInterval': '1636年-1912年',
        'monarch': '爱新觉罗·皇太极',
        'title': '清（后金）太宗'

    }]
},
{//北京市
    'long': 116.401601, 'lat': 39.94668,
    'originName': '京师',
    'url': 'https://baike.baidu.com/item/北京/128981',
    'dynasty':[
    {
        'era': '清朝',
        'timeInterval': '1636年-1912年',
        'monarch': '爱新觉罗·福临',
        'title': '清世祖顺治皇帝'

    }]
},
{//北京市
    'long': 116.453176, 'lat': 39.913581,
    'originName': '北平',
    'url': 'https://baike.baidu.com/item/北京/128981',
    'dynasty':[
    {
        'era': '中华帝国',
        'timeInterval': '1915年-1916年',
        'monarch': '袁世凯',
        'title': '洪宪帝'

    }]
},
{//吉林长春
    'long': 125.332618, 'lat': 43.820705,
    'originName': '新京',
    'url': 'https://baike.baidu.com/item/长春/121865',
    'dynasty':[
    {
        'era': '伪满州',
        'timeInterval': '1932年-1945年',
        'monarch': '爱新觉罗·溥仪',
        'title': '康德帝'

    }]
},
];
//创建标注点并添加到地图中
function addMarker(points) {
    //循环建立标注点
    for(var i=0, pointsLen = points.length; i<pointsLen; i++) {
        var point = new BMap.Point(points[i].long, points[i].lat); //将标注点转化成地图上的点
        var marker = new BMap.Marker(point); //将点转化成标注点
        map.addOverlay(marker);  //将标注点添加到地图上
        //添加监听事件
        (function() {
            var thePoint = points[i];
            marker.addEventListener("click",
                function() {
                showInfo(this,thePoint);
            });
         })();  
    }
}
function showInfo(thisMarker,point) {
    //获取点的信息
    var sContent = `<ul style="margin:0 0 5px 0;padding:0.2em 0">
                        <li style="line-height: 26px;font-size: 15px;">
                        <span style="width: 50px;display: inline-block;">古名：</span>${point.originName}</li>
                        <li style="line-height: 26px;font-size: 15px;"><span style="width: 50px;display: inline-block;">查看：</span><a href="` + point.url + `">详情</a></li>
                        <li style="line-height: 26px;font-size: 15px;">
                        <span style="width: 50px;display: inline-block;">朝代：</span><a onclick="send_dyna('${point.dynasty[0].era}')">${point.dynasty[0].era}</a></li>
                        <li style="line-height: 26px;font-size: 15px;">              
                        <span style="width: 50px;display: inline-block;">时间：</span>${point.dynasty[0].timeInterval}</li> 
                        <li style="line-height: 26px;font-size: 15px;">
                        <span style="width: 50px;display: inline-block;">皇帝：</span><a onclick="send_ch('${point.dynasty[0].monarch}')">${point.dynasty[0].monarch}</a></li>
                        <li style="line-height: 26px;font-size: 15px;">
                        <span style="width: 50px;display: inline-block;">名号：</span>${point.dynasty[0].title}</li>    
                        </ul>`;
    var infoWindow = new BMap.InfoWindow(sContent); //创建信息窗口对象
    thisMarker.openInfoWindow(infoWindow); //图片加载完后重绘infoWindow
}
//创建地图
var long = 103.838224;
var lat = 36.067468;
var map = new BMap.Map("allmap");    
map.centerAndZoom(new BMap.Point(long, lat), 4);  // 初始化地图,设置中心点坐标和地图级别
map.centerAndZoom( "");
map.setCurrentCity("");          //设置为衡阳
//添加地图类型控件
map.addControl(new BMap.MapTypeControl({
    mapTypes:[
        BMAP_NORMAL_MAP,
        BMAP_HYBRID_MAP
    ]}));     
map.enableScrollWheelZoom(true); //开启鼠标滚轮缩放
addMarker(points);    
    
function send_dyna (dyna) {
    localStorage.setItem("ch_dyna", dyna);
    $(window).prop("location", "dynasty.html");
}

function send_ch(data) {
    localStorage.setItem("character", data)
    $(window).prop("location", "character.html")
} 
    
$(document).ready(function() {
    $("#alert").css("height", "40px")
    $("#alert").prop("class", "text-danger")
    $("#top").css("height", "40px")
    if(localStorage.getItem("place")) {
        $("#places_input").val(localStorage.getItem("place"))
        palceSearch();
        localStorage.removeItem("place")
    }
})

$("#places_input").click(function() {
    if($("#places_input").prop("placeholder") != "") {
        let key = $("#places_input").prop("placeholder")
        $("#places_input").val(key)
        $("#places_input").prop("placeholder", "")
    }
})

$("#palce_search").click(palceSearch)

function palceSearch() {
    let value = $("#places_input").val()
    let reg = /\s/g
    value = value.replace(reg, "")
    if(value == "" || value.length == 1) {
        $("#alert").text("输入不能为空，不能为一个字！")
    }else if(value === '中国'){
        $("#places_display").html(`<p>中国（中國）</p>`)
        $("#places_display").animate({
                        opacity: '0.7',
                        height: '10%',
                        width: '100%',
                })
        $("#places_display p").css({"width":"100%", "float": "left", "text-align": "center", "font-size": "30px"})
        map.centerAndZoom(new BMap.Point(116.395645, 39.929986), 4);  // 初始化地图,设置中心点坐标和地图级别
    }
    else{
        $("#alert").text("")
        $.get(`http://www.datastreams.club:3000/place/1?wd=${value}`, function(data) {
            var size = 4;
            if($.isEmptyObject(data)) {
                $("#places_display").animate({
                        opacity: '0.7',
                        height: '10%',
                        width: '100%',
                })
                $("#places_display").html(`<p>未查询到"${value}"的相关信息！</p>`)
                $("#places_display p").css({"width":"100%", "float": "left", "text-align": "center", "font-size": "24px"})
            }else {
                if(data.label === undefined) {
                    $("#places_display").animate({
                        opacity: '0.7',
                        height: '10%',
                        width: '100%',
                    })
                    if (data.city == '') {
                        size = 8;
                        $("#places_display").html(`<p>${data.country}</p><p>${data.province}</p>`)
                        $("#places_display p").css({"width":"50%", "float": "left", "text-align": "center","font-size": "24px"})
                    } else if (data.county == '') {
                        size = 10;
                        $("#places_display").html(`<p>${data.country}</p><p>${data.province}</p><p>${data.city}</p>`)
                        $("#places_display p").css({"width":"33%", "float": "left", "text-align": "center","font-size": "22px"})
                    } else {
                        size = 12;
                        $("#places_display").html(`<p>${data.country}</p><p>${data.province}</p><p>${data.city}</p><p>${data.county}</p>`)
                        $("#places_display p").css({"width":"25%", "float": "left", "text-align": "center","font-size": "19px"})
                    }
                }else {
                    $("#places_display").animate({
                        opacity: '0.7',
                        height: '8%',
                        width: '100%',
                    })
                    size = 10;
                    $("#places_display").html(`<p>${data.country}</p><p>${data.label}</p>`)
                    $("#places_display p").css({"width":"50%", "float": "left", "text-align": "center", "font-size": "24px"})
                }
            }

            var long, lat;
            if (data.long != undefined) {
                long = data.long;
            } else {
                long = 103.838224;
            }

            if (data.lat != undefined) {
                lat = data.lat;
            } else {
                lat = 36.067468;
            }
            map.centerAndZoom(new BMap.Point(long, lat), size);  // 初始化地图,设置中心点坐标和地图级别
        })
    }
}